<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Construct Reproducible Analytic Data Sets as R Packages • DataPackageR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Construct Reproducible Analytic Data Sets as R Packages">
<meta property="og:description" content="A framework to help construct R data packages in a 
  reproducible manner. Potentially time consuming processing of 
  raw data sets into analysis ready data sets is done in a reproducible 
  manner and decoupled from the usual R CMD build process so that
  data sets can be processed into R objects in the data package and 
  the data package can then be shared, built, and installed by others
  without the need to repeat computationally costly data processing.
  The package maintains data provenance by turning the data processing
  scripts into package vignettes, as well as enforcing documentation 
  and version checking of included data objects. Data packages can be
  version controlled in github, and used to share data for manuscripts,
  collaboration and general reproducibility.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">DataPackageR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.15.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/YAML_CONFIG.html">The DataPackageR YAML configuration file.</a>
    </li>
    <li>
      <a href="articles/usingDataPackageR.html">Using DataPackageR</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/DataPackageR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="datapackager" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#datapackager" class="anchor"></a>DataPackageR</h1></div>
<p>DataPackageR is used to reproducibly process raw data into packaged, analysis-ready data sets.</p>
<p><a href="https://CRAN.R-project.org/package=DataPackageR"><img src="https://www.r-pkg.org/badges/version/DataPackageR" alt="CRAN"></a> <a href="https://travis-ci.org/ropensci/DataPackageR"><img src="https://travis-ci.org/ropensci/DataPackageR.svg?branch=master" alt="Build Status"></a> <a href="https://codecov.io/github/ropensci/DataPackageR?branch=master"><img src="https://codecov.io/gh/ropensci/DataPackageR/branch/master/graph/badge.svg" alt="Coverage status"></a> <a href="https://ci.appveyor.com/project/gfinak/DataPackageR"><img src="https://ci.appveyor.com/api/projects/status/5y004036wg2rh2dx?svg=true" alt="AppVeyor Build Status"></a> <a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a> <a href="https://github.com/ropensci/onboarding/issues/230"><img src="https://badges.ropensci.org/230_status.svg"></a> <a href="https://doi.org/10.5281/zenodo.1292095"><img src="https://zenodo.org/badge/29267435.svg" alt="DOI"></a></p>
<ul>
<li><a href="vignettes/YAML_CONFIG.html">yaml configuration guide</a></li>
<li><a href="vignettes/usingDataPackageR.html">a more detailed technical vignette</a></li>
</ul>
<blockquote>
<p><strong>Important Note</strong>: <a href="https://github.com/ropensci/datapack">datapack</a> is a <em>different pacakge</em> that is used to “create, send and load data from common repositories such as DataONE into the R environment”.</p>
</blockquote>
<blockquote>
<p><strong>This package</strong> is for processing raw data into tidy data sets and bundling them into R packages.</p>
</blockquote>
<div id="what-problems-does-datapackager-tackle" class="section level2">
<h2 class="hasAnchor">
<a href="#what-problems-does-datapackager-tackle" class="anchor"></a>What problems does DataPackageR tackle?</h2>
<p>You have diverse raw data sets that you need to preprocess and tidy in order to:</p>
<ul>
<li>Perform data analysis</li>
<li>Write a report</li>
<li>Publish a paper</li>
<li>Share data with colleagues and collaborators</li>
<li>Save time in the future when you return to this project but have forgotten all about what you did.</li>
</ul>
<div id="why-package-data-sets" class="section level3">
<h3 class="hasAnchor">
<a href="#why-package-data-sets" class="anchor"></a>Why package data sets?</h3>
<p><strong>Definition:</strong> A <em>data package</em> is a formal R package whose sole purpose is to contain, access, and / or document data sets.</p>
<ul>
<li>
<p><strong>Reproducibility.</strong></p>
<p>As described <a href="https://github.com/ropensci/rrrpkg">elsewhere</a>, packaging your data promotes reproducibility. R’s packaging infrastructure promotes unit testing, documentation, a reproducible build system, and has many other benefits. Coopting it for packaging data sets is a natural fit.</p>
</li>
<li>
<p><strong>Collaboration.</strong></p>
<p>A data set packaged in R is easy to distribute and share amongst collaborators, and is easy to install and use. All the hard work you’ve put into documenting and standardizing the tidy data set comes right along with the data package.</p>
</li>
<li>
<p><strong>Documentation.</strong></p>
<p>R’s package system allows us to document data objects. What’s more, the <code>roxygen2</code> package makes this very easy to do with <a href="http://r-pkgs.had.co.nz/data.html">markup tags</a>. That documentation is the equivalent of a data dictionary and can be extremely valuable when returning to a project after a period of time.</p>
</li>
<li>
<p><strong>Convenience.</strong></p>
<p>Data pre-processing can be time consuming, depending on the data type and raw data sets may be too large to share conveniently in a packaged format. Packaging and sharing the small, tidied data saves the users computing time and time spent waiting for downloads.</p>
</li>
</ul>
</div>
</div>
<div id="challenges-" class="section level2">
<h2 class="hasAnchor">
<a href="#challenges-" class="anchor"></a>Challenges.</h2>
<ul>
<li>
<p><strong>Package size limits.</strong></p>
<p>R packages have a 5MB size limit, at least on CRAN. BioConductor has explicit <a href="https://www.bioconductor.org/developers/package-guidelines/#package-types">data package</a> types that can be larger and use git LFS for very large files.</p>
<p>Sharing large volumes of raw data in an R package format is still not ideal, and there are public biological data repositories better suited for raw data: e.g., <a href="https://www.ncbi.nlm.nih.gov/geo/">GEO</a>, <a href="https://www.ncbi.nlm.nih.gov/sra">SRA</a>, <a href="http://www.immport.org/immport-open/public/home/home">ImmPort</a>, <a href="https://immunespace.org/">ImmuneSpace</a>, <a href="https://flowrepository.org/">FlowRepository</a>.</p>
<p>Tools like <a href="https://github.com/ropenscilabs/datastorr">datastorr</a> can help with this and we hope to integrate the into DataPackageR in the future.</p>
</li>
<li>
<p><strong>Manual effort</strong></p>
<p>There is still a substantial manual effort to set up the correct directory structures for an R data package. This can dissuade many individuals, particularly new users who have never built an R package, from going this route.</p>
</li>
<li>
<p><strong>Scale</strong></p>
<p>Setting up and building R data packages by hand is a workable solution for a small project or a small number of projects, but when dealing with many projects each involving many data sets, tools are needed to help automate the process.</p>
</li>
</ul>
</div>
<div id="datapackager-1" class="section level2">
<h2 class="hasAnchor">
<a href="#datapackager-1" class="anchor"></a>DataPackageR</h2>
<p>DataPackageR provides a number of benefits when packaging your data.</p>
<ul>
<li><p>It aims to automate away much of the tedium of packaging data sets without getting too much in the way, and keeps your processing workflow reproducible.</p></li>
<li><p>It sets up the necessary package structure and files for a data package.</p></li>
<li><p>It allows you to keep the large, raw data and only ship the packaged tidy data, saving space and time consumers of your data set need to spend downloading and re-processing it.</p></li>
<li><p>It maintains a reproducible record (vignettes) of the data processing along with the package. Consumers of the data package can verify how the processing was done, increasing confidence in your data.</p></li>
<li><p>It automates construction of the documentation and maintains a data set version and an md5 fingerprint of each data object in the package. If the data changes and the package is rebuilt, the data version is automatically updated.</p></li>
</ul>
</div>
<div id="similar-work" class="section level2">
<h2 class="hasAnchor">
<a href="#similar-work" class="anchor"></a>Similar work</h2>
<p>There are a number of tools out there that address similar and complementary problems:</p>
<ul>
<li>
<p><strong>datastorr</strong> <a href="https://github.com/ropenscilabs/datastorr">github repo</a></p>
<p>Simple data retrieval and versioning using GitHub to store data.</p>
<ul>
<li>Caches downloads and uses github releases to version data.</li>
<li>Deal consistently with translating the file stored online into a loaded data object</li>
<li>Access multiple versions of the data at once</li>
</ul>
<p><code>datastorrr</code> could be used with DataPackageR to store / access remote raw data sets, remotely store / access tidied data that are too large to fit in the package itself.</p>
</li>
<li>
<p><strong>fst</strong> <a href="https://github.com/fstpackage/fst">github repo</a></p>
<p><code>fst</code> provides lightning fast serialization of data frames.</p>
</li>
<li>
<p><strong>The modern data package</strong> <a href="https://github.com/noamross/2018-04-18-rstats-nyc/blob/master/Noam_Ross_ModernDataPkg_rstatsnyc_2018-04-20.pdf">pdf</a></p>
<p>A presentation from @noamross touching on modern tools for open science and reproducibility. Discusses <code>datastorr</code> and <code>fst</code> as well as standardized metadata and documentation.</p>
</li>
<li>
<p><strong>rrrpkg</strong> <a href="https://github.com/ropensci/rrrpkg">github repo</a></p>
<p>A document from ropensci describing using an R package as a research compendium. Based on ideas originally introduced by Robert Gentleman and Duncan Temple Lang (Gentleman and Lang (2004)<!--@Gentleman2004-oj-->)</p>
</li>
<li>
<p><strong>template</strong> <a href="https://github.com/ropensci/rrrpkg">github repo</a></p>
<p>An R package template for data packages.</p>
</li>
</ul>
<p>See the <a href="#publication">publication</a> for further discussion.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the latest version of DataPackageR from <a href="https://www.github.com/RGLab/DataPackageR">github</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(devtools)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"RGLab/DataPackageR"</span>)</a></code></pre></div>
</div>
<div id="blog-post---building-packages-interactively-" class="section level2">
<h2 class="hasAnchor">
<a href="#blog-post---building-packages-interactively-" class="anchor"></a>Blog Post - building packages interactively.</h2>
<p>See this <a href="https://ropensci.org/blog/2018/09/18/datapackager/">rOpenSci blog post</a> on how to build data packages interactively using DataPackageR. This uses several new interfaces: <code><a href="reference/use_data_object.html">use_data_object()</a></code>, <code><a href="reference/use_processing_script.html">use_processing_script()</a></code> and <code><a href="reference/use_raw_dataset.html">use_raw_dataset()</a></code> to build up a data package, rather than assuming the user has all the code and data ready to go for <code><a href="reference/datapackage_skeleton.html">datapackage_skeleton()</a></code>.</p>
</div>
<div id="example-assuming-all-code-and-data-are-available" class="section level2">
<h2 class="hasAnchor">
<a href="#example-assuming-all-code-and-data-are-available" class="anchor"></a>Example (assuming all code and data are available)</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(DataPackageR)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co"># Let's reproducibly package up</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># the cars in the mtcars dataset</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># with speed &gt; 20.</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co"># Our dataset will be called cars_over_20.</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co"># There are three steps:</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co"># 1. Get the code file that turns the raw data</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co"># into our packaged and processed analysis-ready dataset.</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co"># This is in a file called subsetCars.Rmd located in exdata/tests of the DataPackageR package.</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co"># For your own projects you would write your own Rmd processing file.</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">processing_code &lt;-<span class="st"> </span><span class="kw">system.file</span>(</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">  <span class="st">"extdata"</span>, <span class="st">"tests"</span>, <span class="st">"subsetCars.Rmd"</span>, <span class="dt">package =</span> <span class="st">"DataPackageR"</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">)</a>
<a class="sourceLine" id="cb2-16" data-line-number="16"></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co"># 2. Create the package framework.</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co"># We pass in the Rmd file in the `processing_code` variable and the names of the data objects it creates (called "cars_over_20")</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co"># The new package is called "mtcars20"</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="kw"><a href="reference/datapackage_skeleton.html">datapackage_skeleton</a></span>(</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">  <span class="st">"mtcars20"</span>, <span class="dt">force =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb2-22" data-line-number="22">  <span class="dt">code_files =</span> processing_code, </a>
<a class="sourceLine" id="cb2-23" data-line-number="23">  <span class="dt">r_object_names =</span> <span class="st">"cars_over_20"</span>, </a>
<a class="sourceLine" id="cb2-24" data-line-number="24">  <span class="dt">path =</span> <span class="kw">tempdir</span>()) </a>
<a class="sourceLine" id="cb2-25" data-line-number="25"></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co"># 3. Run the preprocessing code to build the cars_over_20 data set </span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co"># and reproducibly enclose it in the mtcars20 package.</span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co"># packageName is the full path to the package source directory created at step 2.</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co"># You'll be prompted for a text description (one line) of the changes you're making.</span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="co"># These will be added to the NEWS.md file along with the DataVersion in the package source directory.</span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31"><span class="co"># If the build is run in non-interactive mode, the description will read</span></a>
<a class="sourceLine" id="cb2-32" data-line-number="32"><span class="co"># "Package built in non-interactive mode". You may update it later.</span></a>
<a class="sourceLine" id="cb2-33" data-line-number="33"><span class="kw"><a href="reference/package_build.html">package_build</a></span>(<span class="dt">packageName =</span> <span class="kw">file.path</span>(<span class="kw">tempdir</span>(),<span class="st">"mtcars20"</span>), <span class="dt">install =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb2-34" data-line-number="34"><span class="co">#&gt; First time using roxygen2. Upgrading automatically...</span></a>
<a class="sourceLine" id="cb2-35" data-line-number="35"><span class="co">#&gt; Updating roxygen version in /private/var/folders/jh/x0h3v3pd4dd497g3gtzsm8500000gn/T/RtmpphiN8Z/mtcars20/DESCRIPTION</span></a>
<a class="sourceLine" id="cb2-36" data-line-number="36"><span class="co">#&gt; Loading mtcars20</span></a>
<a class="sourceLine" id="cb2-37" data-line-number="37"><span class="co">#&gt; Reloading attached mtcars20</span></a>
<a class="sourceLine" id="cb2-38" data-line-number="38"></a>
<a class="sourceLine" id="cb2-39" data-line-number="39"><span class="co"># Update the autogenerated roxygen documentation in data-raw/documentation.R. </span></a>
<a class="sourceLine" id="cb2-40" data-line-number="40"><span class="co"># edit(file.path(tempdir(),"mtcars20","R","mtcars20.R"))</span></a>
<a class="sourceLine" id="cb2-41" data-line-number="41"></a>
<a class="sourceLine" id="cb2-42" data-line-number="42"><span class="co"># 4. Rebuild the documentation.</span></a>
<a class="sourceLine" id="cb2-43" data-line-number="43"><span class="kw"><a href="reference/document.html">document</a></span>(<span class="kw">file.path</span>(<span class="kw">tempdir</span>(),<span class="st">"mtcars20"</span>), <span class="dt">install =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb2-44" data-line-number="44"><span class="co">#&gt; Updating mtcars20 documentation</span></a>
<a class="sourceLine" id="cb2-45" data-line-number="45"><span class="co">#&gt; Loading mtcars20</span></a>
<a class="sourceLine" id="cb2-46" data-line-number="46"></a>
<a class="sourceLine" id="cb2-47" data-line-number="47"><span class="co"># Let's use the package we just created.</span></a>
<a class="sourceLine" id="cb2-48" data-line-number="48"><span class="kw">install.packages</span>(<span class="kw">file.path</span>(<span class="kw">tempdir</span>(),<span class="st">"mtcars20_1.0.tar.gz"</span>), <span class="dt">type =</span> <span class="st">"source"</span>, <span class="dt">repos =</span> <span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb2-49" data-line-number="49"><span class="kw">library</span>(mtcars20)</a>
<a class="sourceLine" id="cb2-50" data-line-number="50"><span class="kw">data</span>(<span class="st">"cars_over_20"</span>) <span class="co"># load the data</span></a>
<a class="sourceLine" id="cb2-51" data-line-number="51">cars_over_<span class="dv">20</span>  <span class="co"># Now we can use it.</span></a>
<a class="sourceLine" id="cb2-52" data-line-number="52">?cars_over_<span class="dv">20</span> <span class="co"># See the documentation you wrote in data-raw/documentation.R.</span></a>
<a class="sourceLine" id="cb2-53" data-line-number="53"></a>
<a class="sourceLine" id="cb2-54" data-line-number="54"><span class="co"># We have our dataset!</span></a>
<a class="sourceLine" id="cb2-55" data-line-number="55"><span class="co"># Since we preprocessed it,</span></a>
<a class="sourceLine" id="cb2-56" data-line-number="56"><span class="co"># it is clean and under the 5 MB limit for data in packages.</span></a>
<a class="sourceLine" id="cb2-57" data-line-number="57">cars_over_<span class="dv">20</span></a>
<a class="sourceLine" id="cb2-58" data-line-number="58"></a>
<a class="sourceLine" id="cb2-59" data-line-number="59"><span class="co"># We can easily check the version of the data</span></a>
<a class="sourceLine" id="cb2-60" data-line-number="60"><span class="kw"><a href="reference/data_version.html">data_version</a></span>(<span class="st">"mtcars20"</span>)</a>
<a class="sourceLine" id="cb2-61" data-line-number="61"></a>
<a class="sourceLine" id="cb2-62" data-line-number="62"><span class="co"># You can use an assert to check the data version in  reports and</span></a>
<a class="sourceLine" id="cb2-63" data-line-number="63"><span class="co"># analyses that use the packaged data.</span></a>
<a class="sourceLine" id="cb2-64" data-line-number="64"><span class="kw"><a href="reference/assert_data_version.html">assert_data_version</a></span>(<span class="dt">data_package_name =</span> <span class="st">"mtcars20"</span>,</a>
<a class="sourceLine" id="cb2-65" data-line-number="65">                    <span class="dt">version_string =</span> <span class="st">"0.1.0"</span>,</a>
<a class="sourceLine" id="cb2-66" data-line-number="66">                    <span class="dt">acceptable =</span> <span class="st">"equal"</span>)</a></code></pre></div>
<div id="reading-external-data-from-within-r-rmd-processing-scripts-" class="section level3">
<h3 class="hasAnchor">
<a href="#reading-external-data-from-within-r-rmd-processing-scripts-" class="anchor"></a>Reading external data from within R / Rmd processing scripts.</h3>
<p>When creating a data package, your processing scripts will need to read your raw data sets in order to process them. These data sets can be stored in <code>inst/extdata</code> of the data pacakge source tree, or elsewhere outside the package source tree. In order to have portable and reproducible code, you should not use absolute paths to the raw data. Instead, <code>DataPackageR</code> provides several APIs to access the data package project root directory, the <code>inst/extdata</code> subdirectory, and the <code>data</code> subdirectory.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># This returns the datapackage source </span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co"># root directory. </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># In an R or Rmd processing script this can be used to build a path to a directory that is exteral to the package, for </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># example if we are dealing with very large data sets where data cannot be pacakged.</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">DataPackageR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/DataPackageR/topics/project_path">project_path</a></span>()</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># This returns the   </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co"># inst/extdata directory. </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co"># Raw data sets that are included in the package should be placed there.</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co"># They can be read from that location, which is returned by: </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">DataPackageR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/DataPackageR/topics/project_extdata_path">project_extdata_path</a></span>()</a>
<a class="sourceLine" id="cb3-12" data-line-number="12"></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co"># This returns the path to the datapackage  </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co"># data directory. This can be used to access </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co"># stored data objects already created and saved in `data` from </span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co"># other processing scripts.</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17">DataPackageR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/DataPackageR/topics/project_data_path">project_data_path</a></span>()</a></code></pre></div>
</div>
</div>
<div id="preprint-and-publication-" class="section level2">
<h2 class="hasAnchor">
<a href="#preprint-and-publication-" class="anchor"></a>Preprint and publication. <a id="publication"></a>
</h2>
<p>The publication describing the package, (Finak <em>et</em> <em>al.,</em> 2018)<!--@10.12688/gatesopenres.12832.2-->, is now available at <a href="https://gatesopenresearch.org/articles/2-31/v1">Gates Open Research</a> .</p>
<p>The preprint is on <a href="https://doi.org/10.1101/342907">biorxiv</a>.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of conduct</h2>
<p>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
<div id="references" class="section level3">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<ol style="list-style-type: decimal">
<li><p>Gentleman, Robert, and Duncan Temple Lang. 2004. “Statistical Analyses and Reproducible Research.” Bioconductor Project Working Papers, Bioconductor project working papers,. bepress.</p></li>
<li><p>Finak G, Mayer B, Fulp W et al. DataPackageR: Reproducible data preprocessing, standardization and sharing using R/Bioconductor for collaborative data analysis [version 1; referees: 1 approved with reservations]. Gates Open Res 2018, 2:31 (doi: 10.12688/gatesopenres.12832.1)</p></li>
</ol>
<p><a href="https://ropensci.org"><img src="https://ropensci.org/public_images/ropensci_footer.png" alt="ropensci_footer"></a></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=DataPackageR">https://​cloud.r-project.org/​package=DataPackageR</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/DataPackageR">https://​github.com/​ropensci/​DataPackageR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/DataPackageR/issues">https://​github.com/​ropensci/​DataPackageR/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Greg Finak <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Greg Finak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
